<!DOCTYPE html>
<html>
  <head>
    <%- include('../components/head.ejs') %>
    <!-- <link rel="stylesheet" type="text/css" href="gaya-table.css" /> -->
  </head>
  <body>
    <%- include('../components/menu.ejs') %> <%-
    include('../components/greetUser.ejs') %>

    <div>
      <div>
        <h3>SENARAI KENDERAAN</h3>
        <span class="badge badge-pill bg-success">Read : GET Method</span>
        <span class="badge badge-pill bg-danger">Delete : DELETE Method</span>
      </div>
      <div style="float: right; padding-right: 25px">
        <a class="btn btn-primary btn" href="/roadtax-add" role="button"
          ><i class="bi bi-input-cursor-text"></i> Tambah Rekod</a
        >
      </div>
    </div>
    <br />

    <CONTENT>
      <div class="roadtax-div table-responsive-sm">
        <table class="table table-sm table-striped table-hover">
          <tbody class="table-group-divider">
            <tr>
              <th>Reg No</th>
              <th>Nama Owner</th>
              <th>No KP</th>
              <th>Jenis Kenderaan</th>
              <th>Jenama</th>
              <th>Model</th>
              <th>CC Enjin</th>
              <th></th>
            </tr>
            <% data.forEach(entry => { %>
            <tr>
              <td><span hidden><%= entry.id %></span><%= entry.reg_no %></td>
              <td><%= entry.owner_name %></td>
              <td><%= entry.owner_nokp %></td>
              <td><%= entry.veh_type %></td>
              <td><%= entry.veh_make %></td>
              <td><%= entry.veh_model %></td>
              <td><%= entry.veh_eng_cc %></td>
              <td style="display: inline-flex">
                <form
                  action="/roadtax-detail"
                  method="post"
                  id="roadtax-detail"
                >
                  <input type="hidden" name="id" value="<%= entry.id %>" />
                  <button type="submit" class="btn btn-warning btn-sm">
                    <i class="bi bi-pencil-fill"></i> Pinda
                  </button>
                </form>
                <form 
                  action="/roadtax-del?_method=DELETE" 
                  method="post" 
                  id="roadtax-delete"
                >
                <input type="hidden" name="id" value="<%= entry.id %>" />
                  <button type="submit" class="btn btn-danger btn-sm">
                    <i class="bi bi-eraser"></i> Padam
                  </button>
                </form>
              </td>
            </tr>
            <% }); %>
          </tbody>
        </table>
      </div>
    </CONTENT>
    <!-- <MODAL> PENDING UPDATE </MODAL> -->

    <!-- ^^^ SET ALL CONTENT ABOVE THIS LINE ^^^ -->
    <!-- vvv SET ALL SCRIPT ONLY BELOW THIS LINE vvv -->

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>
    <script src="" async defer></script>
    <%- include('../components/footer.ejs') %>
  </body>
</html>
